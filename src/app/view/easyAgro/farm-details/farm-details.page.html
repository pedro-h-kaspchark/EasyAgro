<ion-content>
  <div *ngIf="farmName" class="farm-name"> {{ farmName }} </div>
  <app-animal-create-form [farm]="farm" *ngIf="showCreateForm" (animalRegistered)="onAnimalRegistered()" (animalRegistered)="closeCreateForm()" (closeForm)="closeCreateForm();"></app-animal-create-form>
  <app-animal-edit-form [farm]="farm" *ngIf="showEditForm" [animal]="selectedAnimal" (animalUpdated)="closeEditForm()" (closeEditForm)="closeEditForm()"></app-animal-edit-form>

  <ion-list class="list-container">
    <ion-item *ngFor="let animal of animals">
      <ion-label>{{ animal.number }} {{ animal.name }}</ion-label>
      <ion-icon name="share-outline" (click)="shareAnimalDetails(animal)" id="open-loading"></ion-icon>
      <ion-loading trigger="open-loading" message="Carregando..." [duration]="400" spinner="circles"></ion-loading>
      <ion-icon name="create-outline" (click)="openEditForm(animal)"></ion-icon>
    </ion-item>
  </ion-list>
  
  <div class="buttons-container">
    <ion-button color="white" (click)="openCreateForm()">Registrar animal</ion-button>
  </div>
</ion-content>
